<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Julien Jamani</title>
<link rel="icon" type="image/jpg" href="logosmall.jpg">
<link rel="stylesheet" type="text/css" href="Style.css">
<link rel="stylesheet" type="text/css" href="cart.css">
</head>
<body>
	<div class="navbarnoimg" id="navbarnoimg">
        <a href="Home.html">Home</a> 
        <a href="Account.html">Account</a> 
        <a href="Cart.html">Cart</a> 
        <a href="CreatingProducts.html">Creating Product</a> 
        <a href="CreatingSales.html">Creating Sales</a>
        <a href="FilterProducts.html">Categories</a>
    	</div>

	<div class="productbuying" id="cartBox">
		<h2>Products in Cart</h2>
		<table id="cartTable">
		</table>
		<button id="clearCartButton"onclick="clearCart()">Clear Cart</button>
	</div>

	<div class="continue">
		<a href="GegevensBetalen.html"><button type="button" class="continue">I want this!</button></a>
	</div>

	
	<script>
		function addProductToCartById(id,size){
			if (id != null) {
			fetch("/producten/" + id)
			.then(response => response.json())
			.then(function(json){
				document.getElementById("cartTable").innerHTML += "<tr><td><p>"+json.naam+" <font color='#adadad'>"+size+"</font></p></td></tr>";
			})
			document.getElementById("clearCartButton").style.display = "block";
			}
		}
		
		var items = JSON.parse(window.localStorage.getItem("cart_items"));
		for (i = 0; i < items.length; i++)  {
			addProductToCartById(items[i][0],items[i][1]);
		}
		function clearCart() {
			window.localStorage.removeItem("cart_items");
			location.reload();
		}
		</script>
</body>
</html>